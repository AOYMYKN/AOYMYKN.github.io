<!DOCTYPE html>
<html lang="zh-cn">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <title>（未完成）从零开始使用gitbook生成书籍 - AOYMYKN的博客</title>
  <meta name="renderer" content="webkit" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>

<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />

<meta name="theme-color" content="#f8f5ec" />
<meta name="msapplication-navbutton-color" content="#f8f5ec">
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="#f8f5ec">


<meta name="author" content="AOYMYKN" /><meta name="description" content="使用gitbook生成书籍，让你免除麻烦的排版等过程。" /><meta name="keywords" content="Java, 后端, 计算机, 编程, 数据结构, 算法, 马克思主义, marxism, CS, IT" />






<meta name="generator" content="Hugo 0.80.0 with theme even" />


<link rel="canonical" href="http://aoymykn.github.io/post/2021-spring/01-26%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%BC%9A%E4%BD%BF%E7%94%A8gitbook%E7%94%9F%E6%88%90%E4%B9%A6%E7%B1%8D/" />
<link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="/favicon-16x16.png">
<link rel="manifest" href="/manifest.json">
<link rel="mask-icon" href="/safari-pinned-tab.svg" color="#5bbad5">



<link href="/sass/main.min.c9ac0cd19ce10a4f2eefd4195990291e493e392c8206d6b1583da261e491264a.css" rel="stylesheet">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.css" integrity="sha256-7TyXnr2YU040zfSP+rEcz29ggW4j56/ujTPwjMzyqFY=" crossorigin="anonymous">


<meta property="og:title" content="（未完成）从零开始使用gitbook生成书籍" />
<meta property="og:description" content="使用gitbook生成书籍，让你免除麻烦的排版等过程。" />
<meta property="og:type" content="article" />
<meta property="og:url" content="http://aoymykn.github.io/post/2021-spring/01-26%E9%9B%B6%E5%9F%BA%E7%A1%80%E5%AD%A6%E4%BC%9A%E4%BD%BF%E7%94%A8gitbook%E7%94%9F%E6%88%90%E4%B9%A6%E7%B1%8D/" />
<meta property="article:published_time" content="2021-01-26T00:00:00+00:00" />
<meta property="article:modified_time" content="2021-01-26T00:00:00+00:00" />
<meta itemprop="name" content="（未完成）从零开始使用gitbook生成书籍">
<meta itemprop="description" content="使用gitbook生成书籍，让你免除麻烦的排版等过程。">
<meta itemprop="datePublished" content="2021-01-26T00:00:00+00:00" />
<meta itemprop="dateModified" content="2021-01-26T00:00:00+00:00" />
<meta itemprop="wordCount" content="3657">



<meta itemprop="keywords" content="" />
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="（未完成）从零开始使用gitbook生成书籍"/>
<meta name="twitter:description" content="使用gitbook生成书籍，让你免除麻烦的排版等过程。"/>

<!--[if lte IE 9]>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/classlist/1.1.20170427/classList.min.js"></script>
<![endif]-->

<!--[if lt IE 9]>
  <script src="https://cdn.jsdelivr.net/npm/html5shiv@3.7.3/dist/html5shiv.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/respond.js@1.4.2/dest/respond.min.js"></script>
<![endif]-->

</head>
<body>
  <div id="mobile-navbar" class="mobile-navbar">
  <div class="mobile-header-logo">
    <a href="/" class="logo">AOYMYKN</a>
  </div>
  <div class="mobile-navbar-icon">
    <span></span>
    <span></span>
    <span></span>
  </div>
</div>
<nav id="mobile-menu" class="mobile-menu slideout-menu">
  <ul class="mobile-menu-list">
    <a href="/">
        <li class="mobile-menu-item">Home</li>
      </a><a href="/post/">
        <li class="mobile-menu-item">Archives</li>
      </a><a href="/tags/">
        <li class="mobile-menu-item">Tags</li>
      </a><a href="/categories/">
        <li class="mobile-menu-item">Categories</li>
      </a><a href="/about/">
        <li class="mobile-menu-item">About</li>
      </a>
  </ul>
</nav>
  <div class="container" id="mobile-panel">
    <header id="header" class="header">
        <div class="logo-wrapper">
  <a href="/" class="logo">AOYMYKN</a>
</div>

<nav class="site-navbar">
  <ul id="menu" class="menu">
    <li class="menu-item">
        <a class="menu-item-link" href="/">Home</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/post/">Archives</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/tags/">Tags</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/categories/">Categories</a>
      </li><li class="menu-item">
        <a class="menu-item-link" href="/about/">About</a>
      </li>
  </ul>
</nav>
    </header>

    <main id="main" class="main">
      <div class="content-wrapper">
        <div id="content" class="content">
          <article class="post">
    
    <header class="post-header">
      <h1 class="post-title">（未完成）从零开始使用gitbook生成书籍</h1>

      <div class="post-meta">
        <span class="post-time"> 2021-01-26 </span>
        <div class="post-category">
            <a href="/categories/%E3%81%84%E3%82%8D%E3%81%84%E3%82%8D/"> いろいろ </a>
            </div>
          <span class="more-meta"> 约 3657 字 </span>
          <span class="more-meta"> 预计阅读 8 分钟 </span>
        
      </div>
    </header>

    <div class="post-toc" id="post-toc">
  <h2 class="post-toc-title">文章目录</h2>
  <div class="post-toc-content always-active">
    <nav id="TableOfContents">
  <ul>
    <li><a href="#为什么是gitbook">为什么是gitbook？</a></li>
    <li><a href="#gitbook环境的搭建">gitbook环境的搭建</a>
      <ul>
        <li><a href="#对powershell的一些操作">对powershell的一些操作</a></li>
        <li><a href="#git的环境搭建">git的环境搭建</a></li>
        <li><a href="#nodejs和gitbook的环境搭建">nodejs和gitbook的环境搭建</a></li>
        <li><a href="#如果出现了问题">如果出现了问题</a></li>
      </ul>
    </li>
    <li><a href="#关于markdown语言">关于markdown语言</a></li>
    <li><a href="#gitbook的使用">gitbook的使用</a></li>
    <li><a href="#书籍的分发">书籍的分发</a></li>
  </ul>
</nav>
  </div>
</div>
    <div class="post-content">
      <!--Hello, Happy World-->
<blockquote>
<p><a href="https://www.gitbook.com/">GitBook</a> 是一个基于 Node.js 的命令行工具，可使用 Github/Git 和 Markdown 来制作精美的电子书。</p>
</blockquote>
<blockquote>
<p>编写一半的时候突然意识到，这个工具提供了网页端，其不需要进行繁琐的环境搭建工作便可以工作，且具有下面所使用的桌面端的一切优点。如果不熟悉编程，应当优先考虑<a href="https://www.gitbook.com/">网页端</a>。因此这篇文章就写到这里了。</p>
</blockquote>
<h1 id="为什么是gitbook">为什么是gitbook？</h1>
<p>如果你想要生成一本书，或是将一本书的扫描版（pdf）转换成文字版，但又不了解排版；如果你希望你生成的书籍要能便于分发，便于校对，修改，gitbook是你的不二之选。我基于如下理由向你推荐gitbook——</p>
<ul>
<li>gitbook使用易学易用的<strong>markdown</strong>作为标记语言，你不需要学习排版知识便能够创建丰富的样式。（本文也是使用markdown语言编写的）</li>
<li>gitbook能够方便地生成html，epub或是pdf文件作为输出，<strong>你很容易对书籍进行分发</strong>，或是将其上传到你的网站或git pages等作为个人网站。</li>
<li>gitbook使用git进行版本控制，你能够<del>轻而易举地</del>提交修改和进行回溯，你也可以将你的“源代码”上传到github以进行分发和协作修改。（当然，你需要掌握git的使用，这可不是容易啃的料啊）</li>
<li>书籍的章节使用目录-文件进行组织，便于书籍的结构化和更新。</li>
<li>gitbook提供了丰富的插件，能够让你自定义书籍的样式，提供搜索，浮动目录等功能（对于网页端来说）</li>
<li>……</li>
</ul>
<p>这里给读者一个<a href="https://blog.gitbook.com/">示例</a>，这是gitbook官方的博客，其是使用gitbook搭建的。</p>
<p>本文主要分为如下部分——</p>
<ol>
<li>gitbook环境的搭建</li>
<li>gitbook的使用</li>
<li>书籍的分发</li>
</ol>
<p>本文假设读者使用windows 10（X86-64架构）系统（使用linux和OS X的读者大约也不需要这样详尽的文章了……）且<strong>没有任何编程经验</strong>，因此会尽量详尽，力图让没有基础的人也能够上手gitbook的使用。在“gitbook的使用和“书籍的分发”部分中，本文将简单地实践一下将扫描版书籍转换成gitbook形式的电子书并生成pdf文件或是便于移动端阅读的epub文件，以及上传到github博客上的全过程。我会试图在描述中多掺杂一些原理性的东西，以期“授人以渔”。毕竟，编程和了解一些计算机的知识在这个时代几乎是必修课了。</p>
<blockquote>
<p>这是我第一次编写这样的文章，如果写的不好，那就抱歉了！也请在这篇文章下面留下评论或者<a href="mailto:AOYMYKN@pm.me">向我发送邮件</a>以进行指正！</p>
</blockquote>
<h1 id="gitbook环境的搭建">gitbook环境的搭建</h1>
<p>gitbook只需安装<strong>nodejs</strong>环境即可。这里出于之后要将书籍上传到github上的需要，也将要求读者安装<strong>git</strong>。</p>
<h2 id="对powershell的一些操作">对powershell的一些操作</h2>
<p>本文章使用powershell作为控制台。因为powershell默认禁止执行脚本，因此需要进行一些额外操作。可遵循<a href="https://blog.csdn.net/counsellor/article/details/84327366">此文章</a>进行处理。</p>
<h2 id="git的环境搭建">git的环境搭建</h2>
<p>git是一个<strong>版本控制工具</strong>。它很容易让你对你的代码（在这里是文章）进行版本控制，如更新，修改，添加，回溯等，也能够方便地拉取他人的代码到本地并进行同步或修改操作。在本文里，git只负责上传你的书籍所生成的网站到github中。</p>
<p>你应当前往git的<a href="https://git-scm.com/download/win">官网</a>，点击<code>32-bit Git for Windows Setup</code>或<code>64-bit Git for Windows Setup</code>（取决于你的windows是多少位的，现在的电脑一般来说都是64位的）进行下载。<strong>安装一路next即可。</strong></p>
<blockquote>
<p>如果官网下载速度慢，你可以使用<a href="https://npm.taobao.org/mirrors/git-for-windows/">国内镜像</a>，选择最新的版本进行下载。这里给出本文写作时间最新的<strong>64位</strong>版本地址<a href="https://npm.taobao.org/mirrors/git-for-windows/v2.30.0.windows.2/Git-2.30.0.2-64-bit.exe">https://npm.taobao.org/mirrors/git-for-windows/v2.30.0.windows.2/Git-2.30.0.2-64-bit.exe</a>。</p>
</blockquote>
<p>安装完成后，通过<code>Win+R</code>（Win是windows图标键，这里是要求按住Win键，然后按下r键）打开“运行”，输入<code>powershell</code>打开控制台（或者右击开始菜单，也能进入powershell）。输入<code>git --version</code>，查看是否有这样形式的输出——</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">git version 2.20.1 
</code></pre></td></tr></table>
</div>
</div><p>如果没有，且显示什么命令未找到之类的，查看下下一节。</p>
<blockquote>
<p>你也可以按win打开开始菜单，然后直接输入<code>cmd</code>，科塔娜会直接帮你找到结果的，如果你启用了她的话。</p>
</blockquote>
<h2 id="nodejs和gitbook的环境搭建">nodejs和gitbook的环境搭建</h2>
<blockquote>
<p>nodejs一般指node.js。Node.js发布于2009年5月，由Ryan Dahl开发，是一个基于Chrome V8引擎的JavaScript运行环境。</p>
</blockquote>
<p>在这里，单纯就gitbook软件的运行来说，可以认为nodejs是gitbook的运行平台，就如windows是qq，office的运行平台一样。因此nodejs是必须安装的。</p>
<p>最新版的nodejs似乎和当前版本的gitbook不兼容，因此这里使用旧版本的<a href="https://npm.taobao.org/mirrors/node/v10.23.1/">nodejs</a>，你应当下载目录中的msi文件并安装。这里给出<a href="https://npm.taobao.org/mirrors/node/v10.23.1/node-v10.23.1-x64.msi">64位的安装包</a>。</p>
<p>安装完成后，你应当输入<code>npm -v</code>，查看是否有这样形式的输出——</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">6.14.8
</code></pre></td></tr></table>
</div>
</div><p>如果没有，查看下一节。</p>
<blockquote>
<p>你可以输入node进入nodejs的REPL环境（Read，Evaluate，Print，Loop，也就是说，这个环境将不断进行——读取你的输入，进行运算，打印出结果，重复以上步骤——这样的操作），过一把程序员的瘾。nodejs使用javascript，一种动态的脚本语言，广泛运用在网页中，但也可以运行在桌面端。gitbook就是使用这个语言编写的。输入<code>console.log(&quot;hello, fucking world!&quot;)</code>试试看？这个操作（实际上，是<strong>函数调用</strong>）读取一个字符串并打印到控制台中。</p>
</blockquote>
<p>安装gitbook需要使用nodejs所提供的包管理工具<strong>npm</strong>。它的用途是从远程直接安装软件到本机中，并提供更新，移除等功能。在安装前，你应当更换到“国内镜像源”，因为官方提供的源慢到让人无法忍受，甚至还可能会超时。</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">npm config set registry https://registry.npm.taobao.org -g
npm install -g gitbook-cli
</code></pre></td></tr></table>
</div>
</div><p>-g这个参数是不可以省略的，使用该参数安装的软件将直接保存在PATH路径下（什么是PATH见下一节），这是符合我们的需要的。</p>
<p>现在，输入<code>gitbook fetch</code>。如果安装正确的话，这一步将会安装gitbook的最新版本，需要注意的是，<strong>这一步非常慢，可能需要数十分钟</strong>，不知道该如何解决……</p>
<blockquote>
<p>这里的gitbook命令和它安装的gitbook是什么关系？请联想瓶和酒的关系，一个瓶子可以装多种酒（可以选择使用哪个版本的gitbook），人要喝酒，则只能拿着瓶子喝。</p>
</blockquote>
<h2 id="如果出现了问题">如果出现了问题</h2>
<p>如果出现了问题，九成九的可能是上述软件的路径并未添加到PATH中。也就是说，你应当将git和nodejs的路径添加到PATH中，我的git和nodejs都安装在了默认位置，其中git的路径是<code>C:\Program Files\Git\cmd</code>，nodejs的路径是<code>C:\Program Files\nodejs</code>。关于如何将这些路径添加到PATH，你可以按下win键，输入env并回车。</p>
<p><img src="https://i.loli.net/2021/01/26/Os6AvgUPE5XLnhI.png" alt="image.png"></p>
<p>你将打开“系统属性”窗口。点击“环境变量”按钮，找到“系统变量”（“用户变量”也可以）中的Path行，双击并将路径添加进新的一行。</p>
<p><img src="https://i.loli.net/2021/01/26/nDvUWJjR51HKMTL.png" alt="image.png"></p>
<blockquote>
<p>PATH是一个文件路径的列表——当你在控制台下执行命令（其实每个命令都是一个软件，执行命令就是打开这个软件，只不过控制台下执行的软件很多都没有图形界面罢了）时，windows会遍历PATH中所有路径以图找到该命令并执行。</p>
<p>也就是说，如果你的软件没有添加到PATH中，Windows将找不到该软件并报错。当然，你也可以直接给定软件的路径（无论是相对路径——软件的路径相对于你的控制台程序的当前路径，还是绝对路径——顾名思义）以运行没有添加到PATH中的程序，这里不考虑这种操作。</p>
</blockquote>
<h1 id="关于markdown语言">关于markdown语言</h1>
<p>markdown语言是一个轻量级的<strong>标记语言</strong>。它允许人们使用易读易写的<strong>纯文本格式</strong>编写文档。百度上有许多markdown的简明教程，比如<a href="https://www.jianshu.com/p/6bf6735993ec?from=singlemessage">这个</a>，这里不再赘述。这里只强调一个地方——如何处理书中的各种注释？</p>
<p>TODO:摸了</p>
<h1 id="gitbook的使用">gitbook的使用</h1>
<p>到了这一步，你应当搭建好了环境并掌握了markdown的基本语法（其实也没什么东西可学），现在终于要开始学习gitbook的使用了！</p>
<blockquote>
<p>每一个控制台窗口都有一个<strong>工作目录</strong>，其显示在光标的左边，形如<code>PS C:\Users\aoymykn&gt;</code>，这里的“C:\Users\aoymykn”就是工作目录。下面的gitbook init会在工作目录下生成项目文件。你也可以通过<code>cd</code>命令来更改工作目录。</p>
</blockquote>
<p>要创建一个gitbook项目，你应当创建一个空文件夹并在该文件夹下按住shift+鼠标右键，选择“在此处打开Powershell窗口”（或cmd窗口），输入<code>gitbook init</code>并回车，这条命令将初始化一个项目。其会有这样的回显——</p>
<div class="highlight"><div class="chroma">
<table class="lntable"><tr><td class="lntd">
<pre class="chroma"><code><span class="lnt">1
</span><span class="lnt">2
</span><span class="lnt">3
</span><span class="lnt">4
</span></code></pre></td>
<td class="lntd">
<pre class="chroma"><code class="language-fallback" data-lang="fallback">warn: no summary file in this book
info: create README.md
info: create SUMMARY.md
info: initialization is finished
</code></pre></td></tr></table>
</div>
</div><p>这里的SUMMARY.md文件是书籍的<strong>目录</strong>，README.md文件是书籍的最初页面，可以认为是<strong>封面</strong>。</p>
<p>你可以随意在README.md中输入一些东西。现在，输入<code>gitbook serve</code>。这条命令会在本地启动一个服务器以预览项目。</p>
<p>TODO:摸了</p>
<h1 id="书籍的分发">书籍的分发</h1>
<p>TODO:摸了</p>

    </div>

    
<footer class="post-footer">
      
      <nav class="post-nav">
        <a class="prev" href="/post/2021-spring/01-27%E6%A8%A1%E6%9D%BF%E6%96%B9%E6%B3%95/">
            <i class="iconfont icon-left"></i>
            <span class="prev-text nav-default">模板方法</span>
            <span class="prev-text nav-mobile">上一篇</span>
          </a>
        <a class="next" href="/post/2021-spring/01-22%E5%85%B3%E4%BA%8E%E5%AF%92%E5%81%87%E7%9A%84%E8%AE%A1%E5%88%92/">
            <span class="next-text nav-default">关于寒假的计划</span>
            <span class="next-text nav-mobile">下一篇</span>
            <i class="iconfont icon-right"></i>
          </a>
      </nav>
    </footer>
  </article>
        </div>
        <div id="gitalk-container"></div>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.css" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/gitalk@1/dist/gitalk.min.js" crossorigin="anonymous"></script>
    <script type="text/javascript">
      var gitalk = new Gitalk({
        id: '2021-01-26 00:00:00 \u002b0000 UTC',
        title: '（未完成）从零开始使用gitbook生成书籍',
        clientID: 'a6d39dcb11d3911b23d9',
        clientSecret: 'a1b3afce97c2b2c21ef8ad1f40b0fce20a334be0',
        repo: 'comments',
        owner: 'AOYMYKN',
        admin: ['AOYMYKN'],
        body: decodeURI(location.href)
      });
      gitalk.render('gitalk-container');
    </script>
    <noscript>Please enable JavaScript to view the <a href="https://github.com/gitalk/gitalk">comments powered by gitalk.</a></noscript>

  

  

      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="social-links">
      <a href="mailto:cs596065766@hotmail.com" class="iconfont icon-email" title="email"></a>
  <a href="http://aoymykn.github.io/index.xml" type="application/rss+xml" class="iconfont icon-rss" title="rss"></a>
</div>

<div class="copyright">
  <span class="power-by">
    由 <a class="hexo-link" href="https://gohugo.io">Hugo</a> 强力驱动
  </span>
  <span class="division">|</span>
  <span class="theme-info">
    主题 - 
    <a class="theme-link" href="https://github.com/olOwOlo/hugo-theme-even">Even</a>
  </span>

  

  <span class="copyright-year">
    &copy; 
    2020 - 
    2021<span class="heart"><i class="iconfont icon-heart"></i></span><span>AOYMYKN</span>
  </span>
</div>

    </footer>

    <div class="back-to-top" id="back-to-top">
      <i class="iconfont icon-up"></i>
    </div>
  </div>
  
  <script src="https://cdn.jsdelivr.net/npm/jquery@3.2.1/dist/jquery.min.js" integrity="sha256-hwg4gsxgFZhOsEEamdOYGBf13FyQuiTwlAQgxVSNgt4=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/slideout@1.0.1/dist/slideout.min.js" integrity="sha256-t+zJ/g8/KXIJMjSVQdnibt4dlaDxc9zXr/9oNPeWqdg=" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@3.1.20/dist/jquery.fancybox.min.js" integrity="sha256-XVLffZaxoWfGUEbdzuLi7pwaUJv1cecsQJQqGLe7axY=" crossorigin="anonymous"></script>



<script type="text/javascript" src="/js/main.min.c12618f9a600c40bd024996677e951e64d3487006775aeb22e200c990006c5c7.js"></script>








</body>
</html>
